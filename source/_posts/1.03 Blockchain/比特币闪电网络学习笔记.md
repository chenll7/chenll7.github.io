---
title: 比特币闪电网络学习笔记
date: '2020-11-01 11:36:09'
updated: '2020-11-04 22:14:24'
categories:
  - 1.03 Blockchain
---
# 比特币闪电网络学习笔记

## RSMC（Recoverable Sequence Maturity Contract，可重获顺序成熟合约）

　　双向支付微通道。
　　双方都预存一部分资金到“微支付通道”里，之后每次交易，就对交易后的资金分配方案共同进行确认，同时签字作废旧的版本。当需要提现时，将最终交易结果写到区块链网络中，被最终确认。可以看到，只有在提现时候才需要通过区块链。
　　任何一个版本的方案都需要经过双方的签名认证才合法。任何一方在任何时候都可以提出提现，提现需要提供一个双方都签名过的资金分配方案（意味着肯定是某次交易后的结果）。在一定时间内，如果另外一方提出证明表明这个方案其实之前被作废了（非最新的交易结果），则资金罚没给质疑成功方。这就确保了没人会拿一个旧的交易结果来提现。
　　另外，即使双方都确认了某次提现，首先提出提现一方的资金到账时间要晚于对方，这就鼓励大家尽量都在链外完成交易。
　　
## HTLC（Hashed Timelock Contract，哈希锁定合约）

　　对于没有支付微通道的双方，可以使用HTLC建立虚拟通道进行转账。


## 参考

- <xinsheng.huawei.com/cn/index.php?app=forum&mod=Detail&act=index&id=3700315>

