---
title: 分布式共识算法
date: '2020-11-01 11:36:10'
updated: '2020-11-04 22:14:24'
categories:
  - 1.07 Distribution System
---
# Paxos

　　没太了解过，Leslie Lamport在1990年公开发表在了自己的网站上，是最老的共识算法？

# 2PC、3PC和Paxos的关系

　　2PC协议用于保证属于多个数据分片上的操作的原子性。这些数据分片可能分布在不同的服务器上，2PC协议保证多台服务器上的操作要么全部成功，要么全部失败。 
　　Paxos协议用于保证同一个数据分片的多个副本之间的数据一致性。当这些副本分布到不同的数据中心时，这个需求尤其强烈。

# Raft

　　在一个由 Raft 协议组织的集群中有三类角色：

- Leader（领袖）
- Follower（群众）
- Candidate（候选人）

　　一开始群众都是候选人，定期选举出一个领袖。以后所有新增数据都发给领袖，由领袖发给其他群众，其他群众给领袖发确认，最后达成一致。领袖用心跳保持存在感，领袖在任意时候挂了，都有解决方案。（所以数据是串行加入共识的？）BCOS说RAFT协议设计本身无法防止拜占庭错误。

参考：<https://www.cnblogs.com/mindwind/p/5231986.html>


　　
